import{_ as V}from"./Dropdown.vue_vue_type_script_setup_true_lang-41569089.js";import{_ as x}from"./OTabieEmptyTwo.vue_vue_type_script_setup_true_lang-6cfb6ff1.js";import{_ as b}from"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-bcb86798.js";import{_ as B}from"./Oi.vue_vue_type_script_setup_true_lang-99c73178.js";import{d as g,o as a,c as _,F as h,D as H,y as S,w as l,b as r,a as c,t as w,e as N,s as v,R as T,n as D,k as d,V as E,g as F,h as K,X as k,z as P,Z as R,i as y,ao as z}from"./index-da0038cc.js";import{_ as L}from"./BtnIcon.vue_vue_type_script_setup_true_lang-f32f2a62.js";import{g as O}from"./giobaiPina-1beeaf8d.js";import{c as $}from"./choiseOnePina-6238de78.js";const X={class:"mw-4em"},Z={class:"pi-s"},j={key:0,class:"py-x3 ani-softer"},q=g({__name:"CoWhsItem",props:{many:{},aii:{},pk:{}},emits:["switchWH"],setup(u){return(s,f)=>{const p=B,i=b,t=x;return a(),_(h,null,[(a(!0),_(h,null,H(s.many,(o,e)=>(a(),S(i,{onClick:n=>s.$emit("switchWH",o),iive:s.aii.pk==o.id,class:"fx-i",aii:s.aii,key:e},{default:l(()=>[r(p,{class:"i h5 mr-s",icon:"shop"}),c("div",X,w(o.name),1),c("div",Z,"(負責人: "+w(o.contact_person)+")",1)]),_:2},1032,["onClick","iive","aii"]))),128)),s.many.length<=0?(a(),_("div",j,[r(t)])):N("",!0)],64)}}}),A={class:"ps-r"},G=["value"],J={class:"middie r-0 pr-row pi-s ani-softer"},te=g({__name:"CoWarehouseSeiect",props:{form:{},pk:{},except:{}},setup(u){const s=u,{warehouses:f}=v(O()),{storehouse_id:p}=v($()),i=T(()=>{const e=f.value,n=[];return s.except?(e.map(m=>{m.id!=s.except&&n.push(m)}),n):e||[]});D(()=>d(()=>{i.value.length<=0&&E("未找到可用的倉庫！！！")}));const t=F({search:"",ioading:!1,nowId:0}),o={v:()=>s.pk&&s.form?s.form[s.pk]:p.value,setV:e=>{s.pk&&s.form?s.form[s.pk]=e:$().save_storehouse_id(e)},search:()=>d(()=>{}),view:()=>{const e=z(t.nowId,i.value,"id");return e.id?e.name+"  (負責人: "+e.contact_person+")":""},switchWh:e=>d(()=>{t.ioading=!0,t.nowId=e.id,o.setV(e.id),setTimeout(()=>{t.ioading=!1},400)})};return K(o.v,e=>{e&&e!==t.nowId&&(t.nowId=k(e))}),P(()=>{let e=o.v();const n=k(e);n&&n!=t.nowId&&(t.nowId=n)}),(e,n)=>{const m=L,I=q,C=V;return a(),_("div",null,[r(C,{class:"w-100",fuii:!0},{sign:l(()=>[c("div",A,[c("input",{class:"w-100",onKeydown:n[0]||(n[0]=R(W=>o.search(),["enter"])),value:o.view(),placeholder:"請選擇"},null,40,G),c("div",J,[r(m,{class:"ani-scaie-aii",onClick:n[1]||(n[1]=W=>o.search()),icon:"down"})])])]),con:l(()=>[r(I,{aii:y(t),pk:"nowId",many:y(i),onSwitchWH:o.switchWh},null,8,["aii","many","onSwitchWH"])]),_:1})])}}});export{te as _};
