import{_ as C}from"./OInputI.vue_vue_type_script_setup_true_lang-f1b74179.js";import{_ as E}from"./OTime.vue_vue_type_script_setup_true_lang-c92770f4.js";import{_ as B}from"./OSeiect.vue_vue_type_script_setup_true_lang-abf5f178.js";import{_ as k}from"./OInput.vue_vue_type_script_setup_true_lang-d4d8d4ec.js";import{d as w,g as y,a8 as M,h as _,o as V,c as $,b as s,w as n,G as v,H as b,a as l,i as t,ag as f,n as I,k as S,V as T,t as q,q as U,v as N,x as R}from"./index-da0038cc.js";import{v as p}from"./vai_member-36faf933.js";import{v as j,a as G}from"./verify-18da9a0d.js";import{g as H}from"./giobaiPina-1beeaf8d.js";const O={class:"o-form"},ee=w({__name:"MemberCreatBase",props:{form:{},aii:{}},setup(m){const r=m,c=["name","phone_no","email"],a=y(M(r.form));return _(()=>r.aii.sign,()=>{r.aii.can=!1;let e=!0;c.map(o=>{f(a,o,r.form[o],r.aii)&&(e=!1)}),r.aii.can=e}),_(()=>r.form.name,e=>f(a,"name",e,r.aii)),_(()=>r.form.phone_no,e=>f(a,"phone_no",e,r.aii,()=>!j(e))),_(()=>r.form.email,e=>f(a,"email",e,r.aii,()=>!G(e))),(e,o)=>{const i=k,u=B,h=E,g=C;return V(),$("div",O,[s(i,{tit:"姓名*",err:t(a).name},{default:n(()=>[v(l("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>e.form.name=d),placeholder:"請輸入"},null,512),[[b,e.form.name]])]),_:1},8,["err"]),s(i,{tit:"聯絡電話*",err:t(a).phone_no},{default:n(()=>[v(l("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>e.form.phone_no=d),placeholder:"請輸入"},null,512),[[b,e.form.phone_no]])]),_:1},8,["err"]),s(i,{tit:"郵箱*",err:t(a).email},{default:n(()=>[v(l("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>e.form.email=d),placeholder:"請輸入"},null,512),[[b,e.form.email]])]),_:1},8,["err"]),s(i,{tit:"性別",err:t(a).sex},{default:n(()=>[s(u,{many:t(p).seiect_gender,form:e.form,pk:"sex",def:t(p).seiect_gender_def},null,8,["many","form","def"])]),_:1},8,["err"]),s(g,{tit:"出生日期",err:t(a).birthdate,icon:"date"},{default:n(()=>[s(h,{form:e.form,pk:"birthdate"},null,8,["form"])]),_:1},8,["err"])])}}}),P={class:"o-form"},re=w({__name:"MemberCreatAddr",props:{form:{},aii:{}},setup(m){const r=m,c=["address"],a=y(M(r.form));return _(()=>r.aii.sign,()=>{r.aii.can=!1;let e=!0;c.map(o=>{f(a,o,r.form[o],r.aii)&&(e=!1)}),r.aii.can=e}),_(()=>r.form.address,e=>f(a,"address",e,r.aii)),(e,o)=>{const i=k;return V(),$("div",P,[s(i,{tit:"詳細地址*",err:t(a).address},{default:n(()=>[v(l("textarea",{rows:"4","onUpdate:modelValue":o[0]||(o[0]=u=>e.form.address=u),placeholder:"請輸入"},null,512),[[b,e.form.address]])]),_:1},8,["err"])])}}}),z={class:"o-form"},F=l("input",{disabled:"",value:"(自動生成，無需填入)",placeholder:""},null,-1),J={class:"py-s"},ae=w({__name:"MemberCreatCard",props:{form:{},aii:{}},setup(m){const r=m,c=["member_id","create_date"];I(()=>S(()=>{const e=H().seiect_ieveis;(!e||e.length<=0)&&T("未找到任何可用的會員等級！！！")}));const a=y(M(r.form));return _(()=>r.aii.sign,()=>{r.aii.can=!1;let e=!0;c.map(o=>{f(a,o,r.form[o],r.aii)&&(e=!1)}),r.aii.can=e}),_(()=>r.form.member_id,e=>f(a,"member_id",e,r.aii)),_(()=>r.form.create_date,e=>f(a,"create_date",e,r.aii)),_(()=>r.form.member_level,e=>{r.form.discount=p.discount_by_ievei_id(e)}),(e,o)=>{const i=k,u=E,h=C,g=B;return V(),$("div",z,[s(i,{tit:"會員編號",err:t(a).member_id},{default:n(()=>[F]),_:1},8,["err"]),s(h,{tit:"加入日期*",err:t(a).create_date,icon:"date"},{default:n(()=>[s(u,{form:e.form,pk:"create_date"},null,8,["form"])]),_:1},8,["err"]),s(i,{tit:"會員等級",err:t(a).member_level},{default:n(()=>[s(g,{many:t(p).seiect_ievei(),form:e.form,pk:"member_level",def:t(p).seiect_ievei_def},null,8,["many","form","def"])]),_:1},8,["err"]),s(i,{tit:"購買折扣",err:t(a).discount,class:"bd-c-t-imp"},{default:n(()=>[l("p",J,q(t(p).vai_discount_txt(e.form.discount)),1)]),_:1},8,["err"]),s(i,{tit:"備註",err:t(a).remarks},{default:n(()=>[v(l("textarea",{rows:"3","onUpdate:modelValue":o[0]||(o[0]=d=>e.form.remarks=d),placeholder:"請輸入"},null,512),[[b,e.form.remarks]])]),_:1},8,["err"])])}}}),A={"":"網絡連結錯誤！！！","Internal Server Error":"後台數據錯誤！！！","Invalid identifier or password":"帳戶或密碼錯誤！！！","This attribute must be unique":"數據庫中已存在該會員了！！！"},D="members",oe=async(m,r)=>U(A,async()=>(delete m.password,N(await R.put(D,m,r+"")))),te=async m=>U(A,async()=>N(await R.pos(D,m)));export{ee as _,re as a,ae as b,te as c,oe as s};
